import numpy as np
import sys

def print_flags(flag):
    flag_vals =[['CANONICAL_CENTER', 1, 'Measurements used the center in r*, rather than the locally determined center.'], ['BRIGHT', 2, 'Object detected in first, bright object-finding; generally r*<17.5'], ['EDGE', 4, 'Object is too close to edge of frame'], ['BLENDED', 8, 'Object had multiple peaks detected within it; was thus a candidate to be a deblending parent.'], ['CHILD', 16, 'Object is the product of an attempt to deblend a BLENDED object.'], ['PEAKCENTER', 32, 'Given center is position of peak pixel, rather than based on the maximum-likelihood estimator.'], ['NODEBLEND', 64, 'No deblending was attempted on this object, even though it is BLENDED.'], ['NOPROFILE', 128, 'Object was too small or too close to the edge to estimate a radial profile.'], ['NOPETRO', 256, 'No valid Petrosian radius was found for this object.'], ['MANYPETRO', 512, 'More than one Petrosian radius was found.'], ['NOPETRO_BIG', 1024, 'Petrosian radius is beyond the last point in the radial profile.'], ['DEBLEND_TOO_MANY_PEAKS', 2048, 'There were more than 25 peaks in this object to deblend; deblended brightest 25.'], ['COSMIC_RAY', 4096, 'Contains a pixel interpreted to be part of a cosmic ray.'], ['MANYR50', 8192, 'Object has more than one 50% light radius.'], ['MANYR90', 16384, 'Object has more than one 90% light radius.'], ['BAD_RADIAL', 32768, 'Some of the points in the given radial profile have negative signal-to-noise ratio. Not a significant parameter.'], ['INCOMPLETE_PROFILE', 65536, 'Petrosian radius intersects the edge of the frame.'], ['INTERP', 131072, 'Object contains one or more pixels whose values were determined by interpolation.'], ['SATURATED', 262144, 'Object contains one or more saturated pixels'], ['NOTCHECKED', 524288, 'There are pixels in the object which were not checked to see if they included a local peak, such as cores of saturated stars.'], ['SUBTRACTED', 1048576, 'This BRIGHT object had its wings subtracted from the frame'], ['NOSTOKES', 2097152, 'Object has no measured Stokes params'], ['BADSKY', 4194304, 'The sky level is so bad that the highest pixel in the object is very negative; far more so than a mere non-detection. No further analysis is attempted.'], ['PETROFAINT', 8388608, 'At least one possible Petrosian radius was rejected as the surface brightness at r_P was too low. If NOPETRO is not set, a different, acceptable Petrosian radius was found.'], ['TOO_LARGE', 16777216, 'The object is too large for us to measure its profile (it extends beyond a radius of approximately 260), or at least one child is larger than half a frame.'], ['DEBLENDED_AS_PSF', 33554432, 'Deblender treated obj as PSF'], ['DEBLEND_PRUNED', 67108864, 'At least one child was removed because its image was too similar to a supposedly different child.'], ['ELLIPFAINT', 134217728, 'Object center is fainter than the isophote whose shape is desired, so the isophote properties are not measured. Also flagged if profile is incomplete.'], ['BINNED1', 268435456, 'Object was detected in 1x1 binned image'], ['BINNED2', 536870912, 'Object was detected in 2x2 binned image, after unbinned detections are replaced by background.'], ['BINNED4', 1073741824, 'Object was detected in 4x4 binned image'], ['MOVED', 2147483648, 'The deblender identified this object as possibly moving.'], ['DEBLENDED_AS_MOVING', 4294967296, 'A MOVED object that the deblender treated as moving.'], ['NODEBLEND_MOVING', 8589934592, 'A MOVED object that the deblender did not treat as moving.'], ['TOO_FEW_DETECTIONS', 17179869184, 'A child of this object was not detected in enough bands to reliably deblend as moving.'], ['BAD_MOVING_FIT', 34359738368, 'Moving fit too poor to be believable.'], ['STATIONARY', 68719476736, 'This object was consistent with being stationary.'], ['PEAKS_TOO_CLOSE', 137438953472, 'At least some peaks within this object were too close to be deblended, thus they were merged into a single peak.'], ['MEDIAN_CENTER', 274877906944, 'Center given is of median-smoothed image.'], ['LOCAL_EDGE', 549755813888, 'Center in at least one band is too close to an edge.'], ['BAD_COUNTS_ERROR', 1099511627776, 'An object containing interpolated pixels had too few good pixels to form a reliable estimate of its error; the quoted error may be underestimated.'], ['BAD_MOVING_FIT_CHILD', 2199023255552, "A possible moving child's velocity fit was too poor, so it was discarded and the parent was not deblended as moving."], ['DEBLEND_UNASSIGNED_FLUX', 4398046511104, 'After deblending, a significant fraction of flux was not assigned to any children.'], ['SATUR_CENTER', 8796093022208, 'Object center is close to at least one saturated pixel.'], ['INTERP_CENTER', 17592186044416, 'Object center is close to at least one interpolated pixel.'], ['DEBLENDED_AT_EDGE', 35184372088832, 'An object close enough to the edge of the frame normally not deblended, is deblended anyway. Only set for objects large enough to be EDGE in all fields/strips.'], ['DEBLEND_NOPEAK', 70368744177664, 'There was no detected peak within this child in at least one band.'], ['PSF_FLUX_INTERP', 140737488355328, 'Greater than 20% of the PSF flux is from interpolated pixels.'], ['TOO_FEW_GOOD_DETECTIONS', 281474976710656, 'A child of this object had too few good detections to be deblended as moving.'], ['CENTER_OFF_AIMAGE', 562949953421312, "At least one peak's center lay off of the atlas image. This can happen when the object is deblended as moving, or if the astrometry is bad."], ['DEBLEND_DEGENERATE', 1125899906842624, 'Two or more candidate children were essentially identical; one one was retained.'], ['BRIGHTEST_GALAXY_CHILD', 2251799813685248, 'This child is the brightest family member (in this band) that is classified as a galaxy.'], ['CANONICAL_BAND', 4503599627370496, "This is the 'canonical' band; r unless the object is undetected in the r filter."], ['AMOMENT_FAINT', 9007199254740992, 'Object was too faint to measure weighted moments such as mE1_g; unweighted values are reported.'], ['AMOMENT_SHIFT', 18014398509481984, 'Centroid shift too large when measuring adaptive moments. Row/Column shifts are reported in mE1, mE2.'], ['AMOMENT_MAXITER', 36028797018963968, 'Maximum number of iterations exceeded measuring e.g. mE2_g; unweighted values are reported.'], ['MAYBE_CR', 72057594037927936, 'There is reasonable suspicion that this object is actually a cosmic ray.'], ['MAYBE_EGHOST', 144115188075855872, 'There is reasonable suspicion that this object is actually a ghost produced by the CCD electronics.'], ['NOTCHECKED_CENTER', 288230376151711744, 'The center of this object lies in a region that was not searched for objects.'], ['OBJECT2_HAS_SATUR_DN', 576460752303423488, "The electrons in this saturated object's bleed trails have been included in its estimated flux."], ['OBJECT2_DEBLEND_PEEPHOLE', 1152921504606846976, "Deblend was modified by the deblender's peephole optimiser."], ['GROWN_MERGED', 2305843009213693952, 'Growing led to a merger'], ['HAS_CENTER', 4611686018427387904, 'Object has a canonical center'], ['RESERVED', 9223372036854775808L, 'Not used']]

    for a in flag_vals:
        if a[1]&flag>0:
            print a[0]
            print a[2]


    return


gal_to_find = int(sys.argv[1])

info = np.loadtxt('/home/ameert/galflags_upenn_pymorph.csv', skiprows = 1, delimiter = ',')

for a in info:
    if int(a[0]) == gal_to_find:
        print a
        print_flags(int(a[1]))

